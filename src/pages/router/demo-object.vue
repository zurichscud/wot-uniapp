<script setup lang="ts">
const router = useRouter()
const route = useRoute()

function goBack() {
  router.back()
}

function pushToParams() {
  router.push({ name: 'demo-params', params: { username: 'eduardo' } })
}

function pushToQuery() {
  router.push({ path: '/pages/router/demo-query', query: { keyword: 'vue', type: 'framework' } })
}
</script>

<template>
  <view class="min-h-screen bg-gray-100 py-3 dark:bg-[var(--wot-dark-background)]">
    <!-- å¤´éƒ¨ -->
    <view class="mx-3 mb-3">
      <view class="rounded-3 bg-white px-5 py-6 text-center dark:bg-[var(--wot-dark-background2)]">
        <view class="mb-3 text-8">
          ğŸ¯
        </view>
        <view class="mb-2 text-5 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]">
          å¯¹è±¡è·¯å¾„è·³è½¬æ¼”ç¤º
        </view>
        <view class="text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
          ä½¿ç”¨ router.push({ path: '/path' }) è¿›è¡Œè·³è½¬
        </view>
      </view>
    </view>

    <!-- è·³è½¬ä¿¡æ¯ -->
    <demo-block title="è·³è½¬ä¿¡æ¯" transparent>
      <view class="rounded-3 bg-white p-4 dark:bg-[var(--wot-dark-background2)]">
        <view class="mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]">
          å½“å‰é¡µé¢ä¿¡æ¯
        </view>
        <view class="space-y-2">
          <view class="flex items-center justify-between border-b border-gray-100 py-2 dark:border-[var(--wot-dark-border)]">
            <text class="text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
              è·¯å¾„:
            </text>
            <text class="text-3.5 text-gray-800 font-mono dark:text-[var(--wot-dark-color)]">
              {{ route.path }}
            </text>
          </view>
          <view class="flex items-center justify-between border-b border-gray-100 py-2 dark:border-[var(--wot-dark-border)]">
            <text class="text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
              è·³è½¬æ–¹å¼:
            </text>
            <text class="text-3.5 text-gray-800 dark:text-[var(--wot-dark-color)]">
              å¯¹è±¡è·¯å¾„
            </text>
          </view>
          <view class="flex items-center justify-between py-2">
            <text class="text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
              ä»£ç :
            </text>
            <text class="text-3.5 text-gray-800 font-mono dark:text-[var(--wot-dark-color)]">
              router.push({ path: '/pages/router/demo-object' })
            </text>
          </view>
        </view>
      </view>
    </demo-block>

    <!-- å‚æ•°ä¼ é€’æ¼”ç¤º -->
    <demo-block title="å‚æ•°ä¼ é€’æ¼”ç¤º" transparent>
      <view class="space-y-3">
        <view class="rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]">
          <view class="mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]">
            params å‚æ•°ä¼ é€’
          </view>
          <view class="mb-3 text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
            ä½¿ç”¨ name + params ç»„åˆä¼ é€’å‚æ•°
          </view>
          <view class="mb-3 border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]">
            <text class="text-3 text-gray-700 font-mono dark:text-[var(--wot-dark-color)]">
              router.push({ name: 'demo-params', params: { username: 'eduardo' } })
            </text>
          </view>
          <wd-button type="primary" block @click="pushToParams">
            è·³è½¬å¹¶ä¼ é€’ params
          </wd-button>
        </view>

        <view class="rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]">
          <view class="mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]">
            query å‚æ•°ä¼ é€’
          </view>
          <view class="mb-3 text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]">
            ä½¿ç”¨ path + query ç»„åˆä¼ é€’å‚æ•°
          </view>
          <view class="mb-3 border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]">
            <text class="text-3 text-gray-700 font-mono dark:text-[var(--wot-dark-color)]">
              router.push({ path: '/demo-query', query: { keyword: 'vue' } })
            </text>
          </view>
          <wd-button type="success" block @click="pushToQuery">
            è·³è½¬å¹¶ä¼ é€’ query
          </wd-button>
        </view>
      </view>
    </demo-block>

    <!-- æ“ä½œæŒ‰é’® -->
    <demo-block title="å¯¼èˆª" transparent>
      <wd-button type="warning" block @click="goBack">
        è¿”å›ä¸Šä¸€é¡µ
      </wd-button>
    </demo-block>
  </view>
</template>

<route lang="json">
{
  "name": "demo-object",
  "style": {
    "navigationBarTitleText": "å¯¹è±¡è·¯å¾„è·³è½¬"
  }
}
</route>
